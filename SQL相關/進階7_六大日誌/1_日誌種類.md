# 日誌

## 日誌類型

1. 慢查詢日誌 Slow Query Log

    * 記錄所有執行時間超過 `long_query_time` 的所有查詢，方便對查詢進行優化。

2. 通用查詢日誌 General Log

    * 記錄所有用戶連接的起始時間和終止時間，以及連接發送給資料庫服務器的所有指令，對復原操作的實際場景、發現問題，甚至對資料庫的統計都有很大幫助。

    * 預設是關閉的，因為記錄量太大，有需要才打開使用。


3. 錯誤日誌 ErrorLog

    * 記錄 MySQL 服務的啟動、運行或停止 MySQL 服務時出現的問題，方便我們了解服務器狀態。

    * 預設是開啟的，並且`錯誤日誌無法被關閉`。

4. 二進制日誌 BinLog

    * 記錄所有更改數據的語句，可以用於主從服務器之間的數據同步，以及服務器遇到故障時數據的無損恢復。

    * 二進制日誌也較`變更日誌(update log)`，記錄了資料庫所有執行 `DDL` 和 `DML` 等語句，但是不包括非修改語句(select...、show... 語句)。

5. 中繼日誌 RelayLog

    * 用於主從服務器架構中，從服務器用來存放主服務器二進制日誌內容的一個中間文件。從服務器通過讀取中繼日誌的內容，來同步主服務器上的操作。


6. 數據定義語句日誌

    * 記錄數據定義語句執行的元數據操作。


* 注意 : 此六種檔案，只有 BinLog 是二進制檔案，其他都是文本檔案，可以直接開啟查看。


<br/>

<br/>

## 日誌的缺點

1. 日誌功能會`降低MySQL資料庫的性能`。 例如查詢頻繁的資料庫中，如果開啟了通用查詢日誌和慢查詢日誌，就會花費許多時間在記錄日誌。

2. 日誌會`占用大量硬碟空間`，對於用戶量非常大、操作頻繁的資料庫，日誌文件需要的儲存空間會比數據本身還大。

<br/>

<br/>


