## 名詞解釋
1. 標準時間
    * GMT (Greenwich Mean Time) : 格林威治標準時間 
    * UTC (Coordinated Universal Time) : 世界協調時間，時間戳使用的是 UTC。
    * 兩者皆屬於標準時間，UTC會每隔一段時間校正，兩者雖有誤差但不超過0.9秒，可忽略。

2. timestamp 中`10位數單位為秒`，`13位數單位為毫秒`

> https://magiclen.org/java-8-date-time-api/

<br/>

<br/>

## Date
缺點: 
1. 此為舊 java 的用法，會將時間戳儲存在 Date 的成員變數，再依照`時區`去加減秒數，這樣的用法沒有時區的概念。
2. 舊用法為線程不安全。
3. 格式化需要使用 `SimpleDateFormat` 類，多一個步驟。

<br/>

<br/>

> https://kucw.github.io/blog/2020/6/java-date/

## Java8 的新 API 
1. 時間戳類 : `Instant`
2. 時間類 : `LocalDate` / `LocalTime` / `LocalDateTime`


<br/>

<br/>

## Instant 
建立 Instant 物件
```java
// 取現在時間戳
Instant now = Instant.now();

// 用 Long 取時間戳
Instant time1 = Instant.ofEpochSecond(1665826283L);     // 給時間戳10位數
Instant time2 = Instant.ofEpochMilli(1665826283000L);  // 給時間戳13位數

// 用 UTC 取時間戳
Instant time3 = Instant.parse("2022-10-15T09:48:54.646Z");
```
換算成Long
```java
// 取秒數
Long t1 = Instant.now().getEpochSecond();

// 取毫秒
Long t2 = Instant.now().toEpochMilli();
```

<br/>

<br/>

## LocalDate / LocalTime / LocalDateTime 
1. LocalDate 只存日期 (2022/06/22) 不會有時間，內部成員變數有 `year`, `month`, `day` 分別對應日期。

2. LocalTime 只存時間 (14:00:00.000)，不會有日期，內部成員變數有 `hour`, `minute`, `second`, `nano` 分別對應時間。

3. LocalDateTime 存了日期和時間 (2022/06/22 14:00:00.000)，內部成員變數則是用 `LocalDate` 和 `LocalTime`，減少重複代碼。

4. 以上這三種類都沒有帶有時區的資訊，輸出的值不受地點影響。

<br/>

<br/>

建立 LocalDateTime 物件
```java
// 取現在時間
LocalDateTime dateTime1 = LocalDateTime.now();

// 透過 Instant 建立
LocalDateTime dateTime2 = LocalDateTime.ofInstant(instant);

// 自定義 建立
LocalDateTime dateTime3 = LocalDateTime.of(2022,6,22,14,0,0)

// 透過輸入 LocalDate LocalTime 建立
LocalDateTime dateTime3 = LocalDateTime.of(localDate, localTime);
```
時間格式化
```java
LocalDateTime dateTime = LocalDateTime.now();
DateTimeFormatter dtf = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss");
String format = dtf.format(dateTime);
```

<br/>

<br/>

## ZonedDateTime 
ZonedDateTime = `LocalDateTime + 時區`

```java
LocalDateTime dateTime = LocalDateTime.now();

// 加上 atZone 後變會變成 ZonedDateTime
ZonedDateTime taipeiDateTime = dateTime.atZone(ZoneId.systemDefault());
```

<br/>

<br/>

## Date 和 LocalDateTime 轉換
```java
public class DateTimeUtil {
    
    public Date convertDate(LocalDateTime localDateTime) {
        return Date.from(localDateTime.atZone(ZoneId.systemDefault()).toInstant());
    }

    public LocalDateTime convert(Date date) {
        return new Date(date.getTime()).toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();
    }

}
```

<br/>

<br/>

## Duration

<br/>

<br/>

## Period

<br/>

<br/>

##